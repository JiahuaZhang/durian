# fly.toml
# Configuration for Durian Invest Trading Bot

app = "durian-invest"
primary_region = "iad"

[build]

[env]
  # Configure which strategies to run (comma-separated)
  # Options: sma, gemini-portfolio
  # Examples:
  #   STRATEGIES = "sma"  # SMA only
  #   STRATEGIES = "gemini-portfolio"  # AI portfolio only
  #   STRATEGIES = "sma,gemini-portfolio"  # Both strategies
  # Override via: fly secrets set STRATEGIES=...
  STRATEGIES = "gemini-portfolio"

# App scaling configuration
[http_service]
  auto_stop_machines = "off"   # Keep machine running
  auto_start_machines = false  # Don't auto-start
  min_machines_running = 1     # Exactly 1 machine
  processes = ["app"]

[[vm]]
  size = "shared-cpu-1x"
  memory = "256mb"
  processes = ["app"]
